{"type":"wb","version":2,"source":"https://www.iodraw.com","elements":[{"type":"line","version":445,"versionNonce":1837260702,"isDeleted":false,"id":"lGYN0ECXMM6sGQAQw1oBZ","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":570.6666259765625,"y":383.9999694824219,"strokeColor":"#000000","backgroundColor":"#fff","width":60,"height":80,"seed":1805265886,"groupIds":["9sDyiu2j2fCqHwNWdmuIU","QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","boundElements":[],"updated":1758705625624,"link":null,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":null,"points":[[0,0],[40,0],[60,20],[60,80],[0,80],[0,0]]},{"type":"line","version":256,"versionNonce":1779134786,"isDeleted":false,"id":"4_u5v3Z78YPiJn8oqu8mP","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":610.6666259765625,"y":383.9999694824219,"strokeColor":"#000000","backgroundColor":"#fff","width":0,"height":20,"seed":1398114562,"groupIds":["9sDyiu2j2fCqHwNWdmuIU","QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","boundElements":[],"updated":1758705625624,"link":null,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":null,"points":[[0,0],[0,20]]},{"type":"line","version":254,"versionNonce":596687838,"isDeleted":false,"id":"qW4jxBjmLU__OYPF-1ZYO","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":610.6666259765625,"y":403.9999694824219,"strokeColor":"#000000","backgroundColor":"#fff","width":20,"height":0,"seed":1566900254,"groupIds":["9sDyiu2j2fCqHwNWdmuIU","QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","boundElements":[],"updated":1758705625624,"link":null,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":null,"points":[[0,0],[20,0]]},{"type":"rectangle","version":152,"versionNonce":652074078,"isDeleted":false,"id":"T1wR4mBX0P41M7AvmPqL-","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":570.6666259765625,"y":383.9999694824219,"strokeColor":"transparent","backgroundColor":"transparent","width":60,"height":80,"seed":1468078274,"groupIds":["QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","boundElements":[{"type":"text","id":"av3RVFC3tJjHtNR30T3n-"},{"id":"WjTTlR8eWgMaH4UVMFe26","type":"arrow"}],"updated":1758705625932,"link":null},{"id":"av3RVFC3tJjHtNR30T3n-","type":"text","x":575.6666259765625,"y":414.4999694824219,"width":50,"height":19,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":90,"groupIds":["QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","seed":628622622,"version":59,"versionNonce":2013892638,"isDeleted":false,"boundElements":null,"updated":1758705625624,"link":null,"text":"JSON","fontSize":16,"fontFamily":2,"textAlign":"center","verticalAlign":"middle","baseline":15,"containerId":"T1wR4mBX0P41M7AvmPqL-","originalText":"JSON"},{"id":"U6ECwTUemQTA9prQcNJMa","type":"text","x":732.3333740234375,"y":297.8333435058594,"width":660,"height":299,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":90,"groupIds":[],"strokeSharpness":"sharp","seed":264797406,"version":194,"versionNonce":1796047134,"isDeleted":false,"boundElements":[{"id":"WjTTlR8eWgMaH4UVMFe26","type":"arrow"}],"updated":1758705615714,"link":null,"text":" # Transitions from JSON\n    for t in transitions:\n        from_idx = states.index(t[\"from\"])\n        to_idx = states.index(t[\"to\"])\n        trigger = t.get(\"trigger\", {})\n        chan_name = f\"widget{trigger['widget_id']}_evt{trigger['event_id']}\" if trigger else \"\"\n        action_comment = t.get(\"action\", \"\")\n        assignment = f'task_executed = 1  // {escape(action_comment)}'\n\n        xml_parts.append('  <transition>')\n        xml_parts.append(f'    <source ref=\"id{from_idx}\"/>')\n        xml_parts.append(f'    <target ref=\"id{to_idx}\"/>')\n        if chan_name:\n            xml_parts.append(f'    <label kind=\"synchronisation\">{escape(chan_name)}?</label>')\n        xml_parts.append(f'    <label kind=\"assignment\">{assignment}</label>')\n        xml_parts.append('  </transition>')","fontSize":16,"fontFamily":2,"textAlign":"left","verticalAlign":"top","baseline":295,"containerId":null,"originalText":" # Transitions from JSON\n    for t in transitions:\n        from_idx = states.index(t[\"from\"])\n        to_idx = states.index(t[\"to\"])\n        trigger = t.get(\"trigger\", {})\n        chan_name = f\"widget{trigger['widget_id']}_evt{trigger['event_id']}\" if trigger else \"\"\n        action_comment = t.get(\"action\", \"\")\n        assignment = f'task_executed = 1  // {escape(action_comment)}'\n\n        xml_parts.append('  <transition>')\n        xml_parts.append(f'    <source ref=\"id{from_idx}\"/>')\n        xml_parts.append(f'    <target ref=\"id{to_idx}\"/>')\n        if chan_name:\n            xml_parts.append(f'    <label kind=\"synchronisation\">{escape(chan_name)}?</label>')\n        xml_parts.append(f'    <label kind=\"assignment\">{assignment}</label>')\n        xml_parts.append('  </transition>')"},{"id":"1EuSiO9YBHqVad8kJbbib","type":"rectangle","x":718.6666870117188,"y":208,"width":726.6666870117188,"height":490.66668701171875,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":90,"groupIds":[],"strokeSharpness":"sharp","seed":185767810,"version":157,"versionNonce":1872960002,"isDeleted":false,"boundElements":[{"id":"WjTTlR8eWgMaH4UVMFe26","type":"arrow"}],"updated":1758705614576,"link":null},{"id":"WjTTlR8eWgMaH4UVMFe26","type":"arrow","x":638,"y":424.66668701171875,"width":77.36000864058724,"height":0.7509705947805401,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":4,"strokeStyle":"solid","roughness":0,"opacity":90,"groupIds":[],"strokeSharpness":"round","seed":1918570690,"version":252,"versionNonce":786457282,"isDeleted":false,"boundElements":null,"updated":1758705641082,"link":null,"points":[[0,0],[77.36000864058724,0.7509705947805401]],"lastCommittedPoint":null,"startBinding":{"elementId":"T1wR4mBX0P41M7AvmPqL-","focus":0.007552627676568514,"gap":7.3333740234375},"endBinding":{"elementId":"1EuSiO9YBHqVad8kJbbib","focus":0.09787228694907245,"gap":3.306678371131511},"startArrowhead":null,"endArrowhead":"arrow"}],"appState":{"theme":"light","currentChartType":"bar","currentItemBackgroundColor":"transparent","currentItemEndArrowhead":"arrow","currentItemFillStyle":"hachure","currentItemFontFamily":2,"currentItemFontSize":16,"currentItemLinearStrokeSharpness":"round","currentItemOpacity":90,"currentItemRoughness":0,"currentItemStartArrowhead":null,"currentItemStrokeColor":"#000000","currentItemStrokeSharpness":"sharp","currentItemStrokeStyle":"solid","currentItemStrokeWidth":4,"currentItemTextAlign":"left","cursorButton":"up","editingGroupId":null,"elementLocked":false,"elementType":"selection","exportBackground":true,"exportScale":1,"exportEmbedScene":false,"exportWithDarkMode":false,"gridSize":null,"lastPointerDownWith":"mouse","name":"Untitled-2025-09-24-1716","openMenu":null,"previousSelectedElementIds":{"WjTTlR8eWgMaH4UVMFe26":true,"UENTj1JdRpxLTGFDxa5q8":true,"LFqRdiLRp8PmxunH2769C":true},"scrolledOutside":false,"scrollX":0,"scrollY":0,"selectedElementIds":{"cIATE8hFct09zsFopctx4":true},"selectedGroupIds":{},"shouldCacheIgnoreZoom":false,"showStats":false,"viewBackgroundColor":"#ffffff","zenModeEnabled":false,"zoom":{"value":1}},"files":{}}