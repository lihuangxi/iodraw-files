{"type":"wb","version":2,"source":"https://www.iodraw.com","elements":[{"type":"line","version":418,"versionNonce":1497740674,"isDeleted":false,"id":"lGYN0ECXMM6sGQAQw1oBZ","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":552.6666870117188,"y":391.33331298828125,"strokeColor":"#000000","backgroundColor":"#fff","width":60,"height":80,"seed":1805265886,"groupIds":["9sDyiu2j2fCqHwNWdmuIU","QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","boundElements":[],"updated":1758705517732,"link":null,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":null,"points":[[0,0],[40,0],[60,20],[60,80],[0,80],[0,0]]},{"type":"line","version":229,"versionNonce":255581086,"isDeleted":false,"id":"4_u5v3Z78YPiJn8oqu8mP","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":592.6666870117188,"y":391.33331298828125,"strokeColor":"#000000","backgroundColor":"#fff","width":0,"height":20,"seed":1398114562,"groupIds":["9sDyiu2j2fCqHwNWdmuIU","QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","boundElements":[],"updated":1758705517732,"link":null,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":null,"points":[[0,0],[0,20]]},{"type":"line","version":227,"versionNonce":2008528194,"isDeleted":false,"id":"qW4jxBjmLU__OYPF-1ZYO","fillStyle":"solid","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":592.6666870117188,"y":411.33331298828125,"strokeColor":"#000000","backgroundColor":"#fff","width":20,"height":0,"seed":1566900254,"groupIds":["9sDyiu2j2fCqHwNWdmuIU","QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","boundElements":[],"updated":1758705517732,"link":null,"startBinding":null,"endBinding":null,"lastCommittedPoint":null,"startArrowhead":null,"endArrowhead":null,"points":[[0,0],[20,0]]},{"type":"rectangle","version":122,"versionNonce":1220196318,"isDeleted":false,"id":"T1wR4mBX0P41M7AvmPqL-","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":0,"opacity":100,"angle":0,"x":552.6666870117188,"y":391.33331298828125,"strokeColor":"transparent","backgroundColor":"transparent","width":60,"height":80,"seed":1468078274,"groupIds":["QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","boundElements":[{"type":"text","id":"av3RVFC3tJjHtNR30T3n-"}],"updated":1758705517732,"link":null},{"id":"av3RVFC3tJjHtNR30T3n-","type":"text","x":557.6666870117188,"y":421.83331298828125,"width":50,"height":19,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":90,"groupIds":["QlVK00kretGz6IfTF_ImP"],"strokeSharpness":"sharp","seed":628622622,"version":32,"versionNonce":942007426,"isDeleted":false,"boundElements":null,"updated":1758705520626,"link":null,"text":"JSON","fontSize":16,"fontFamily":2,"textAlign":"center","verticalAlign":"middle","baseline":15,"containerId":"T1wR4mBX0P41M7AvmPqL-","originalText":"JSON"},{"id":"U6ECwTUemQTA9prQcNJMa","type":"text","x":732.3333740234375,"y":297.8333435058594,"width":660,"height":299,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":90,"groupIds":[],"strokeSharpness":"sharp","seed":264797406,"version":191,"versionNonce":247541762,"isDeleted":false,"boundElements":null,"updated":1758705594452,"link":null,"text":" # Transitions from JSON\n    for t in transitions:\n        from_idx = states.index(t[\"from\"])\n        to_idx = states.index(t[\"to\"])\n        trigger = t.get(\"trigger\", {})\n        chan_name = f\"widget{trigger['widget_id']}_evt{trigger['event_id']}\" if trigger else \"\"\n        action_comment = t.get(\"action\", \"\")\n        assignment = f'task_executed = 1  // {escape(action_comment)}'\n\n        xml_parts.append('  <transition>')\n        xml_parts.append(f'    <source ref=\"id{from_idx}\"/>')\n        xml_parts.append(f'    <target ref=\"id{to_idx}\"/>')\n        if chan_name:\n            xml_parts.append(f'    <label kind=\"synchronisation\">{escape(chan_name)}?</label>')\n        xml_parts.append(f'    <label kind=\"assignment\">{assignment}</label>')\n        xml_parts.append('  </transition>')","fontSize":16,"fontFamily":2,"textAlign":"left","verticalAlign":"top","baseline":295,"containerId":null,"originalText":" # Transitions from JSON\n    for t in transitions:\n        from_idx = states.index(t[\"from\"])\n        to_idx = states.index(t[\"to\"])\n        trigger = t.get(\"trigger\", {})\n        chan_name = f\"widget{trigger['widget_id']}_evt{trigger['event_id']}\" if trigger else \"\"\n        action_comment = t.get(\"action\", \"\")\n        assignment = f'task_executed = 1  // {escape(action_comment)}'\n\n        xml_parts.append('  <transition>')\n        xml_parts.append(f'    <source ref=\"id{from_idx}\"/>')\n        xml_parts.append(f'    <target ref=\"id{to_idx}\"/>')\n        if chan_name:\n            xml_parts.append(f'    <label kind=\"synchronisation\">{escape(chan_name)}?</label>')\n        xml_parts.append(f'    <label kind=\"assignment\">{assignment}</label>')\n        xml_parts.append('  </transition>')"},{"id":"1EuSiO9YBHqVad8kJbbib","type":"rectangle","x":718.6666870117188,"y":208,"width":726.6666870117188,"height":490.66668701171875,"angle":0,"strokeColor":"#000000","backgroundColor":"transparent","fillStyle":"hachure","strokeWidth":1,"strokeStyle":"solid","roughness":1,"opacity":90,"groupIds":[],"strokeSharpness":"sharp","seed":185767810,"version":156,"versionNonce":1532963038,"isDeleted":false,"boundElements":null,"updated":1758705603590,"link":null}],"appState":{"theme":"light","currentChartType":"bar","currentItemBackgroundColor":"transparent","currentItemEndArrowhead":"arrow","currentItemFillStyle":"hachure","currentItemFontFamily":2,"currentItemFontSize":16,"currentItemLinearStrokeSharpness":"round","currentItemOpacity":90,"currentItemRoughness":1,"currentItemStartArrowhead":null,"currentItemStrokeColor":"#000000","currentItemStrokeSharpness":"sharp","currentItemStrokeStyle":"solid","currentItemStrokeWidth":1,"currentItemTextAlign":"left","cursorButton":"up","editingGroupId":null,"elementLocked":false,"elementType":"selection","exportBackground":true,"exportScale":1,"exportEmbedScene":false,"exportWithDarkMode":false,"gridSize":null,"lastPointerDownWith":"mouse","name":"Untitled-2025-09-24-1716","openMenu":null,"previousSelectedElementIds":{"1EuSiO9YBHqVad8kJbbib":true},"scrolledOutside":false,"scrollX":0,"scrollY":0,"selectedElementIds":{"67HZSdJYTKUkKYtX68zLt":true},"selectedGroupIds":{},"shouldCacheIgnoreZoom":false,"showStats":false,"viewBackgroundColor":"#ffffff","zenModeEnabled":false,"zoom":{"value":1}},"files":{}}